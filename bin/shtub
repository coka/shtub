#!/usr/bin/env sh

# globals

SCRIPT_DIRECTORY=$(dirname $(readlink --canonicalize $0))
SHTUB_DEPTH=0

. $SCRIPT_DIRECTORY/helpers # load helpers

require()
{
  script_name=$1
  . $SCRIPT_DIRECTORY/../lib/$script_name
}

describe()
{
  print_indentation
  println "$1"
  indent
}

it()
{
  print_indentation
  printf "$1"
  printf "... "
}

expect()
{
  expected_value="$2"
  actual_value="$($1)"
  if [ "$expected_value" = "$actual_value" ]; then
    println "OK"
    indent
  else
    println "FAILED"
    indent
  fi
}

end() { unindent; }

# run all listed spec files

for spec in "$@"; do
  . $spec
done
